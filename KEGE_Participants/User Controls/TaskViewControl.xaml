<UserControl x:Class="KEGE_Participants.User_Controls.TaskViewControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="1080" d:DesignWidth="1500">

    <UserControl.Resources>

        <ControlTemplate x:Key="NoMouseOverButtonTemplate" TargetType="Button">
            <Border 
                x:Name="InnerBorder" 
                d:Background="#fff" Background="{TemplateBinding Background}" 
                d:BorderBrush="#000" BorderBrush="{TemplateBinding BorderBrush}"
                d:BorderThickness="3" BorderThickness="{TemplateBinding BorderThickness}"
                CornerRadius="15"
                >

                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
            </Border>
            <ControlTemplate.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Background" Value="{x:Static SystemColors.ControlLightBrush}" />
                    <Setter Property="Foreground" Value="{x:Static SystemColors.GrayTextBrush}" />
                </Trigger>
            </ControlTemplate.Triggers>
        </ControlTemplate>

    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <Border 
            x:Name="TaskNumber_Border"
            BorderBrush="#000"
            BorderThickness="1"
            Background="#fff"
            CornerRadius="15"
            Margin="30 10 0 10"
            HorizontalAlignment="Left"
            >
            <StackPanel>
                <TextBlock
                    x:Name="_TaskNumber_Box"
                    FontSize="28"
                    Margin="10 7 10 5"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left"
                    FontWeight="SemiBold"
                    FontFamily="/Resources/Fonts/#Inter"
                    />
                
                <TextBlock
                    x:Name="_TaskWeight_Box"
                    FontSize="14"
                    Margin="10 2 5 5"
                    Foreground="#444"
                    VerticalAlignment="Center"
                    HorizontalAlignment="Left"
                    FontWeight="SemiBold"
                    FontFamily="/Resources/Fonts/#Inter"
                    />
                
            </StackPanel>
        </Border>        
        
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto" MinWidth="400" MaxWidth="600"/>
            </Grid.ColumnDefinitions>

            <Border 
                Grid.Column="0"
                Background="#FFFFFF" 
                CornerRadius="20" 
                Margin="30 10 10 10"
                MaxWidth="1100" 
                HorizontalAlignment="Left"
                >
                <Border.Effect>
                    <DropShadowEffect BlurRadius="40" ShadowDepth="0" Opacity="0.2" Color="#000000"/>
                </Border.Effect>
                
                <ScrollViewer 
                    Margin="0 10 0 0" 
                    VerticalScrollBarVisibility="Auto" Padding="40"
                    HorizontalAlignment="Left"
                    >
                    <Border BorderBrush="#F0F0F0" BorderThickness="0" CornerRadius="10">
                        <Image 
                            x:Name="TaskImage" 
                            Stretch="Uniform" 
                            StretchDirection="DownOnly"
                            RenderOptions.BitmapScalingMode="HighQuality"/>
                    </Border>
                    
                </ScrollViewer>
            </Border>

            <Border 
                Grid.Column="1"
                x:Name="Table_Answer_Border"
                Visibility="Visible"
                Background="#FFFFFF" 
                CornerRadius="20" 
                Margin="0 110 20 0"
                Padding="30"
                VerticalAlignment="Top"
                >

                <Border.Effect>
                    <DropShadowEffect BlurRadius="40" ShadowDepth="0" Opacity="0.2" Color="#000000"/>
                </Border.Effect>

                <StackPanel>
                    <TextBlock 
                        Text="Ваш ответ:" 
                        FontSize="24" Foreground="#666" 
                        FontWeight="SemiBold" Margin="0,0,0,10"/>

                        <Grid
                            x:Name="Answer_Table_Grid">
                        </Grid>

                    <Button x:Name="TableSave_btn" 
                            Height="60"
                            Margin="0 10 0 0"
                            VerticalAlignment="Bottom"
                            Cursor="Hand" 
                            Click="TableSave_btn_Click"
                            Background="#fff"
                            BorderThickness="2"
                            BorderBrush="#000"
                            Template="{StaticResource NoMouseOverButtonTemplate}">
                        <Image Source="/Resources/Icons/save96x96.png" 
                                   Width="50" Height="50"/>
                    </Button>

                </StackPanel>
            </Border>

        </Grid>

        <StackPanel Grid.Row="2" Orientation="Horizontal">

            <Border
                x:Name="Bottom_Answer_Border"
                Background="#FFFFFF" 
                BorderBrush="#fff" BorderThickness="0,1,0,0" 
                CornerRadius="15" HorizontalAlignment="Left"
                Margin="30 0 0 20"
                Padding="40,20"
                >
                <Border.Effect>
                    <DropShadowEffect BlurRadius="40" 
                      ShadowDepth="0" 
                      Opacity="0.2" 
                      Color="#000000"/>
                </Border.Effect>

                <StackPanel HorizontalAlignment="Left">
                    <TextBlock Text="Ваш ответ:" 
                   FontSize="24" Foreground="#666" 
                   FontWeight="SemiBold" Margin="0,0,0,10"/>

                    <StackPanel Orientation="Horizontal">
                        <Border 
                            BorderBrush="#000" 
                            BorderThickness="2" 
                            CornerRadius="10" 
                            Height="75" 
                            Width="500">


                            <TextBox 
                                x:Name="Answer_TextBox" 
                                Margin="5"
                                FontSize="28"
                                VerticalContentAlignment="Center"
                                BorderThickness="0"
                                FontFamily="/Resources/Fonts/#Inter" 
                                FontWeight="Bold"
                                Background="Transparent"
                                TextChanged="Answer_TextBox_TextChanged"
                                />

                        </Border>

                        <Button 
                            x:Name="Save_btn" 
                            Width="100" Height="75" 
                            Margin="15,0,0,0"
                            Cursor="Hand"
                            Background="#fff"
                            BorderThickness="2"
                            BorderBrush="#000"
                            Click="Save_btn_Click"
                            Template="{StaticResource NoMouseOverButtonTemplate}"
                            >
                            <Image Source="/Resources/Icons/save96x96.png" 
                           Width="50" Height="50"/>
                        </Button>

                    </StackPanel>

                </StackPanel>

            </Border>

            <Border
                x:Name="_FilesPanel"
                Background="#FFFFFF" Visibility="Visible"
                BorderBrush="#fff" BorderThickness="0,1,0,0" 
                CornerRadius="15" HorizontalAlignment="Left"
                Margin="30 0 0 20"
                Padding="40,20"
                >

                <StackPanel x:Name="_FilesContainer" Orientation="Horizontal"/>

            </Border>

        </StackPanel>
        
        
    </Grid>
</UserControl>